@model ICollection<PostViewModel>

@if (User?.IsInRole("Administrator") ?? false)
{
    ViewData["Title"] = "News (Admin)";
    @await Html.PartialAsync(@"~/Views/Shared/_NewsAdminPartial.cshtml", Model);
}
else
{
    ViewData["Title"] = "News";
    @if (Model.Count > 0)
    {
        <section>
            <h2 class="text-center">News</h2>
            <div class="container">
                <div class="row justify-content-center text-center">
                    @foreach (var post in Model)
                    {
                        <div class="col-12 col-sm-6 col-lg-5 g-2">
                            <div class="card h-100" style="background-color: #F04152;">
                                <div class="ratio ratio-4x3">
                                    <img class="card-img-top" src="@post.ImageUrls[0]" alt="Title Image">
                                </div>
                                <div class="card-title text-center mt-1">
                                    <h5>@post.Title</h5>
                                </div>
                                <div class="card-body" style="background-color: #0E121B;">
                                    <p class="card-text text-white">
                                        @post.Content.Substring(0, post.Content.Length > 100 ? 100 : post.Content.Length)...
                                    </p>
                                </div>
                                <div class="card-footer" style="background-color: #0E121B;">
                                    <button asp-controller="News" asp-action="Details" asp-route-postId="@post.Id" class="btn bg-white">Read More</button>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </section>
    }
    else
    {
        <p>There are no posts!</p>
    }
}
